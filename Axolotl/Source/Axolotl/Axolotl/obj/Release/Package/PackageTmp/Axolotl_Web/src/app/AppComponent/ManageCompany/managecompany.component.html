<div class="col-xs-11 col-sm-11 col-md-11 col-lg-12">
  <div class="tab-opia">
    <ul class="nav nav-tabs" *ngIf="this.model.id > 0">
      <li [ngClass]="this.activeTab == 1?'active':''">
        <a data-toggle="tab" (click)="ChangeTab(1)">Detail</a>
      </li>
      <li [ngClass]="this.activeTab == 2?'active':''">
        <a data-toggle="tab" (click)="ChangeTab(2)">Location</a>
      </li>
      <li [ngClass]="this.activeTab == 3?'active':''">
        <a data-toggle="tab" (click)="ChangeTab(3)">Employee Punches</a>
      </li>
      <li style="float:right">
        <button type="button" [routerLink]="['/company']" class="btn btn-theme btn-sm pull-right"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp; Back</button>
      </li>
    </ul>

    <div class="tab-content" style="border-top:none;" *ngIf="this.activeTab == 1">
      <div id="tab-general" class="tab-pane fade in active">
        <div class="area-form">
          <form id="manageform" #manageform="ngForm" (submit)="ManageCompany()">
            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">Name *</div>
                <input type="text"
                       class="form-control" id="name" name="name"
                       #name="ngModel"
                       [(ngModel)]="model.name"
                       [class.required]="name.touched && name.invalid"
                       required />
              </div>
            </div>
            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">Number *</div>
                <input type="text"
                       class="form-control" id="mobile" name="mobile"
                       #mobile="ngModel"
                       [(ngModel)]="model.mobile"
                       [class.required]="mobile.touched && mobile.invalid"
                       required />
              </div>
            </div>
            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">No of Week Days *</div>
                <input type="number"
                       class="form-control" id="noofweekOffdays" name="noofweekOffdays"
                       #noofweekOffdays="ngModel"
                       [(ngModel)]="model.noofweekOffdays" min="0"
                       [class.required]="noofweekOffdays.touched && noofweekOffdays.invalid"
                       required />
              </div>
            </div>

            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">Working Hours (in minutes) *</div>
                <input type="number"
                       class="form-control" id="workinghours" name="workinghours"
                       #workinghours="ngModel"
                       [(ngModel)]="model.workinghours" min="0"
                       [class.required]="workinghours.touched && workinghours.invalid"
                       required />
              </div>
            </div>

            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">Flexible Buffer Minutes *</div>
                <input type="number"
                       class="form-control" id="flexiblebufferminutes" name="flexiblebufferminutes"
                       #flexiblebufferminutes="ngModel"
                       [(ngModel)]="model.flexiblebufferminutes" min="0"
                       [class.required]="flexiblebufferminutes.touched && flexiblebufferminutes.invalid"
                       required />
              </div>
            </div>
            
            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">Punch Range (in meter) *</div>
                <input type="number"
                       class="form-control" id="punchrangeinmeter" name="punchrangeinmeter"
                       #punchrangeinmeter="ngModel"
                       [(ngModel)]="model.punchrangeinmeter" min="0"
                       [class.required]="punchrangeinmeter.touched && punchrangeinmeter.invalid"
                       required />
              </div>
            </div>

            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">Address</div>
                <input type="text"
                       class="form-control" id="companyaddress" name="address" 
                       #address="ngModel"
                       [(ngModel)]="model.address" />
              </div>
            </div>
            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">State</div>
                <input type="text"
                       class="form-control" id="state" name="state"
                       #state="ngModel"
                       [(ngModel)]="model.state" />
              </div>
            </div>
            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">City</div>
                <input type="text"
                       class="form-control" id="city" name="city"
                       #city="ngModel"
                       [(ngModel)]="model.city" />
              </div>
            </div>
            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label">Zipcode</div>
                <input type="text"
                       class="form-control" id="zipcode" name="zipcode"
                       #zipcode="ngModel"
                       [(ngModel)]="model.zipcode" />
              </div>
            </div>


            <div class="col-xs-11 col-sm-11 col-md-11 col-lg-4">
              <div class="form-group form-group-theme">
                <div class="label" style="float: left;">&nbsp;</div>
                <div class="rightside-btn1 spacer-bottom-10" style="float:left;">
                  <a [routerLink]="['/company']" class="btn btn-theme btn-sm pull-right" style="margin-right: 5px;">Cancel</a>
                  <button type="submit" class="btn btn-theme btn-sm pull-right" style="margin-right: 5px;"
                          [disabled]="manageform.invalid">
                    Save
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="tab-content" style="border-top:none;" *ngIf="this.activeTab == 2">
      <button type="button"  class="btn btn-theme btn-sm pull-right" (click)="GetCompanyLocationDetail(0)"><i class="fa fa-plus"></i>&nbsp;&nbsp; Add Location</button>
      <div class="header-location-content">
        <div class=" spacer-top-20 spacer-bottom-20">
          <table class="table table-theme">
            <thead>
              <tr>
                <th>Name</th>
                <th>Address</th>
                <th>State</th>
                <th>City</th>
                <th>Zipcode</th>
                <th>Activate</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody *ngIf="model_companylocationlist && model_companylocationlist.records">
              <tr *ngFor="let obj of model_companylocationlist.records;let i = index">
                <td>{{obj.name}}</td>
                <td>{{obj.address}}</td>
                <td>{{obj.state}}</td>
                <td>{{obj.city}}</td>
                <td>{{obj.zipcode}}</td>
                <td>
                  <label>
                    <input type="checkbox" id="isdeleted_{{i}}"
                           name="isdeleted_{{i}}"
                           [(ngModel)]="!obj.isdeleted" (change)="ActiveInActiveCompanyLocation(obj.id)"
                           class="togglecheckbox ios-switch green bigswitch" />
                    <div><div></div></div>
                  </label>
                </td>
                <td style="text-align:center;">
                  <a href="javascript:void(0)" class="fa fa-edit" (click)="GetCompanyLocationDetail(obj.id)"
                     style="width:20px!important;"></a>
                  <!--<a href="javascript:void(0)" class="fa fa-remove"
              style="width:20px!important;"></a>-->
                </td>
              </tr>
            </tbody>
          </table>
        </div>


        <!-- Modal content-->
        <div id="companylocation_popmodal" class="modal fade in modal-theme" role="dialog" data-backdrop="false">
          <div class="modal-dialog" style="width:850px;">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Company Location</h4>
              </div>
              <form id="companylocationform" #companylocationform="ngForm" (submit)="ManageCompanyLocation()">
                <div class="modal-body" *ngIf="model_companylocationrequest">
                  <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 br">
                      <div id="map" class="map-box" style="height:400px;"></div>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="border-left:1px solid #C3C3C3">
                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-12">
                        <div class="form-group form-group-theme">
                          <div class="label">Name *</div>
                          <input type="text" class="form-control" id="locationname" name="locationname" #locationname="ngModel"
                                 [(ngModel)]="model_companylocationrequest.name"
                                 [class.required]="(locationname.touched && locationname.invalid)"
                                 required />
                        </div>
                      </div>

                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-12">
                        <div class="form-group form-group-theme">
                          <div class="label">Address *</div>
                          <input type="text" class="form-control" id="autocomplete" name="locationaddress" #locationaddress="ngModel"
                                 [(ngModel)]="model_companylocationrequest.address"
                                 [class.required]="(locationaddress.touched && locationaddress.invalid)"
                                 required />
                        </div>
                      </div>

                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-12">
                        <div class="form-group form-group-theme">
                          <div class="label">State *</div>
                          <input type="text" class="form-control" id="administrative_area_level_1" name="locationstate" #locationstate="ngModel"
                                 [(ngModel)]="model_companylocationrequest.state"
                                 [class.required]="(locationstate.touched && locationstate.invalid)"
                                 required />
                        </div>
                      </div>

                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-12">
                        <div class="form-group form-group-theme">
                          <div class="label">City *</div>
                          <input type="text" class="form-control" id="locality" name="locaioncity" #locaioncity="ngModel"
                                 [(ngModel)]="model_companylocationrequest.city"
                                 [class.required]="(locaioncity.touched && locaioncity.invalid)"
                                 required />
                        </div>
                      </div>

                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-12">
                        <div class="form-group form-group-theme">
                          <div class="label">Zipcode *</div>
                          <input type="text" class="form-control" id="postal_code" name="locationzipcode" #locationzipcode="ngModel"
                                 [(ngModel)]="model_companylocationrequest.zipcode"
                                 [class.required]="(locationzipcode.touched && locationzipcode.invalid)"
                                 required />
                        </div>
                      </div>
                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-6">
                        <div class="form-group form-group-theme">
                          <div class="label">Latitude</div>
                          <input type="text" class="form-control" id="latitude" name="latitude" #latitude="ngModel"
                                 [(ngModel)]="model_companylocationrequest.lat"
                                 disabled
                                  />
                        </div>
                      </div>
                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-6">
                        <div class="form-group form-group-theme">
                          <div class="label">Longitude</div>
                          <input type="text" class="form-control" id="longitude" name="longitude" #longitude="ngModel"
                                 [(ngModel)]="model_companylocationrequest.lng"
                                  disabled/>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                  <div class="modal-footer">
                    <button type="submit" class="btn btn-theme" [disabled]="companylocationform.invalid">Save</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
</form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" style="border-top:none;" *ngIf="this.activeTab == 3">
      <div class="header-location-content">
        <div class=" spacer-top-20 spacer-bottom-20">
          <table class="table table-theme">
            <thead>
              <tr>
                <th style="text-align:center">Employee Punches</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:center">coming soon</td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>

  </div>
</div>
